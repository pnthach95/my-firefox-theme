/* Move navigation 65% to left and negative margin to move to top line */
#nav-bar {
  /*   margin-right: 150px !important; */
  margin-top: -40px !important;
  margin-left: 70px !important;
  background: transparent !important;
  z-index: 2;
}

/* Full height url bar without border radius */
#nav-bar {
  min-height: 29px !important;
}

#urlbar {
  border: 0px solid transparent !important;
  border-radius: 0 !important;
  margin: 0 1px 0 0 !important;
  min-height: 29px !important;
  transition: background 250ms, border-radius 250ms;
}

@media (max-width: 1500px) {

  /* Do not hide buttons on urlbar focus */
  /*   :root:not([customizing])
    #navigator-toolbox
    #nav-bar
    #urlbar-container:focus-within {
    position: static !important;
    width: auto !important;
  }
 */
  /* Hide shadow over url bar */
  .tabbrowser-arrowscrollbox>.arrowscrollbox-overflow-start-indicator:not([collapsed]),
  .tabbrowser-arrowscrollbox>.arrowscrollbox-overflow-end-indicator:not([collapsed]) {
    background-image: none !important;
  }
}

#titlebar {
  height: 40px
}

.titlebar-button {
  background-color: transparent !important;
}

.titlebar-close:hover {
  background-color: crimson !important;
}

.titlebar-restore:hover {
  background-color: goldenrod !important;
}

.titlebar-max:hover {
  background-color: purple !important;
}

.titlebar-min:hover {
  background-color: seagreen !important;
}

tabs,
#alltabs-button,
#sidebar-header,
#identity-icon-labels,
.titlebar-spacer {
  display: none;
}

/*** Megabar Styler General - version 2020-04-19 ***/

/*** General Preferences ***/
:root {
  /* Number of pixels of enlargement when URL bar is focused */
  --mbarstyler-popout-pixels: 0px;
  /* [0px - 7px] */

  /* Top Bar Display or Not */
  --mbarstyler-top-bar-display: none;
  /* [block,none] */

  /* Font sizes (default: 13.8px for title, 10.2px for URL) */
  --mbarstyler-title-font-size: 15px;
  /* [13px - 18px] */
  --mbarstyler-url-font-size: 13px;
  /* [12px - 16px] */

  /* Rows to show without scrolling */
  --mbarstyler-max-rows-without-scrolling: 10;

  /* Bottom border for each result row */
  --mbarstyler-bottom-border-width: 0px;
  /* [0px or 1px] */

  /* Match display style */
  --mbarstyler-match-weight: 700;
  /* [400,700] */
  --mbarstyler-match-background-opacity: 0;
  /* [0.0,0.05,0.1] */
}

/*** URL bar enlargement or lack thereof ***/

/* Compute new position, width, and padding */
#urlbar[breakout][breakout-extend] {
  top: calc(5px - var(--mbarstyler-popout-pixels)) !important;
  left: calc(0px - var(--mbarstyler-popout-pixels)) !important;
  width: calc(100% + (2 * var(--mbarstyler-popout-pixels))) !important;
  padding: var(--mbarstyler-popout-pixels) !important;
}

[uidensity="compact"] #urlbar[breakout][breakout-extend] {
  top: calc(3px - var(--mbarstyler-popout-pixels)) !important;
}

[uidensity="touch"] #urlbar[breakout][breakout-extend] {
  top: calc(4px - var(--mbarstyler-popout-pixels)) !important;
}

/* Prevent shift of URL bar contents */
#urlbar[breakout][breakout-extend]>#urlbar-input-container {
  height: var(--urlbar-height) !important;
  padding: 0 !important;
}

/* Do not animate */
#urlbar[breakout][breakout-extend]>#urlbar-background {
  animation: none !important;
}

/* Remove shadows */
#urlbar[breakout][breakout-extend]>#urlbar-background {
  box-shadow: none !important;
}

/*** Top "Blue Bar" Display ***/

.urlbarView-row:first-of-type {
  display: var(--mbarstyler-top-bar-display) !important;
}

/*** Font Sizes and Scrolling ***/

/* Title font-size */
.urlbarView-row .urlbarView-title {
  font-size: var(--mbarstyler-title-font-size) !important;
}

/* URL / action font-size */
.urlbarView-row .urlbarView-secondary,
.urlbarView-row .urlbarView-url,
.urlbarView-row .urlbarView-action {
  font-size: var(--mbarstyler-url-font-size) !important;
}

/* Set max-height for items visible without scrolling */
#urlbarView-results,
#urlbar-results {
  height: unset !important;
  max-height: calc(2.5 * (var(--mbarstyler-title-font-size) + var(--mbarstyler-bottom-border-width)) * var(--mbarstyler-max-rows-without-scrolling)) !important;
}

#urlbar-results {
  overflow-y: auto !important;
}

/* Clean up extra spacing at the top and bottom */
#urlbar-results {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

/* Subtle border between results */
.urlbarView-row:not(:last-of-type) {
  border-bottom: var(--mbarstyler-bottom-border-width) solid rgba(0, 0, 0, 0.1) !important;
}

/* Match Styling Like Fx43-47 */
[lwt-popup-darktext] .urlbarView-row:not([selected]) .urlbarView-title strong,
[lwt-popup-darktext] .urlbarView-row:not([selected]) .urlbarView-url strong {
  font-weight: var(--mbarstyler-match-weight) !important;
  box-shadow: inset 0 0 1px 1px rgba(0, 0, 0, calc(var(--mbarstyler-match-background-opacity) * 2));
  background-color: rgba(0, 0, 0, var(--mbarstyler-match-background-opacity));
  border-radius: 2px;
}

[lwt-popup-brighttext] .urlbarView-row:not([selected]) .urlbarView-title strong,
[lwt-popup-brighttext] .urlbarView-row:not([selected]) .urlbarView-url strong {
  font-weight: var(--mbarstyler-match-weight) !important;
  box-shadow: inset 0 0 1px 1px rgba(255, 255, 255, calc(var(--mbarstyler-match-background-opacity) * 2));
  background-color: rgba(255,
      255,
      255,
      var(--mbarstyler-match-background-opacity));
  border-radius: 2px;
}

/*** End of: Megabar Styler General ***/

/*** Megabar Styler Two-Row Flex Layout - version 2020-06-02 ***/

/* !!! Requires variables from Megabar Styler General !!! */

/* Adjust heights for scrolling */
#urlbarView-results,
#urlbar-results {
  max-height: calc(1.625 * (var(--mbarstyler-title-font-size) + var(--mbarstyler-url-font-size) + var(--mbarstyler-bottom-border-width)) * var(--mbarstyler-max-rows-without-scrolling)) !important;
}

/* Wrap the url (adapted from Fx75 narrow bar design) */
.urlbarView-row-inner {
  flex-wrap: wrap !important;
  padding-top: 0 !important;
  padding-bottom: 2px !important;
}

.urlbarView-no-wrap {
  max-width: 100% !important;
  flex-basis: 100% !important;
  position: relative;
}

/* Adjust horizontal and vertical URL position */
.urlbarView-row[has-url]>.urlbarView-row-inner>.urlbarView-url {
  padding-inline-start: calc(6px + 2px +
      /* favicon */
      16px) !important;
  margin-top: calc(2px + (var(--mbarstyler-url-font-size) - var(--mbarstyler-title-font-size)));
}

/* Hide the separator if there's a URL */
.urlbarView.megabar[actionoverride] .urlbarView-row[has-url] .urlbarView-title-separator,
.urlbarView.megabar .urlbarView-row[has-url]:not([type$="tab"]) .urlbarView-title-separator,
.urlbarView.megabar .urlbarView-row[type="remotetab"]:-moz-any(:hover, [selected]) .urlbarView-title-separator {
  display: none !important;
}

/* Move Switch Tab info to URL line :: added 2020-04-12 */

/* Make sure URL is always visible */
.urlbarView-row[type="switchtab"][has-url="true"] .urlbarView-url {
  visibility: visible !important;
}

/* Show Switch to Tab or Open depending on [actionoverride] */
.urlbarView:not([actionoverride]) .urlbarView-row[type="switchtab"][has-url="true"] .urlbarView-url::before {
  content: "Switch to Tab: ";
  font-style: italic;
  color: var(--urlbar-popup-action-color);
}

.urlbarView:not([actionoverride]) .urlbarView-row[type="switchtab"][has-url="true"][selected] .urlbarView-url::before {
  color: HighlightText;
  /* 2020-05-31 improve visibility when selected */
}

.urlbarView[actionoverride] .urlbarView-row[type="switchtab"][has-url="true"] .urlbarView-url::before {
  content: "Open: ";
  font-style: italic;
  color: var(--urlbar-popup-action-color);
}

.urlbarView[actionoverride] .urlbarView-row[type="switchtab"][has-url="true"][selected] .urlbarView-url::before {
  color: HighlightText;
  /* 2020-05-31 improve visibility when selected */
}

/* Hide the existing Action phrase and separator */

.urlbarView-row[type="switchtab"][has-url="true"] .urlbarView-action,
.urlbarView-row[type="switchtab"][has-url="true"] .urlbarView-title-separator {
  display: none !important;
}

/* A little more room for the address bar when drop-down is open :: added 2020-06-02 */
.urlbarView {
  margin-block-start: 0 !important;
}

/*** End of: Megabar Styler Two-Row Flex Layout ***/

/*** Megabar Styler One-Offs - version 2020-05-31 ***/

/*** One-Off Search Button Preferences ***/

:root {
  /* One-Offs Display or Not */
  --mbarstyler-oneoffs-display: flex;
  /* [flex,none] */
}

/* Show or Hide the One-Offs Search Icon Bar */
#urlbar .search-one-offs:not([hidden]) {
  display: var(--mbarstyler-oneoffs-display) !important;
}

/* Shorten the One-Offs Search Icon Bar Vertically */
#urlbar .search-one-offs:not([hidden]) {
  padding-block: unset !important;
}

/* We don't need the text */
#urlbar .search-one-offs .search-panel-header {
  display: none !important;
}

/*** End of: Megabar Styler One-Offs ***/

/* Bookmark background color */
#TabsToolbar,
#nav-bar,
#PersonalToolbar {
  -moz-default-appearance: menupopup !important;
  appearance: auto !important;
  background-color: transparent !important;
}

.browserContainer {
  background-color: #000000 !important;
}

#urlbar:not([focused]) #urlbar-input,
#urlbar:not([focused]) .urlbar-input {
  text-align: center !important;
}

#tracking-protection-icon-container,
#identity-box {
  border-image-slice: 0 !important;
}

#urlbar-background {
  border: 0 !important;
  background-color: transparent !important;
}

#urlbar:hover,
#urlbar:focus-within {
  background: #474747 !important;
  border-radius: 4px !important;
  transition: background 250ms;
}

#urlbar-results #PopupAutoCompleteRichResult {
  background-color: blue;
}

#personal-bookmarks menupopup .bookmark-item {
  margin-left: 0px !important;
  margin-right: 0px !important;
  padding-inline-start: 5px !important;
  padding-inline-end: 5px !important;
  padding-block: 0px !important;
}

#PlacesToolbar menuitem,
#PlacesToolbar menu {
  margin: 0 !important;
}

#PlacesToolbar menupopup {
  --panel-subview-body-padding: 0;
}

/*
 menu
 https://github.com/ayushhroyy/elegantfox
 */

/* #context-navigation, */
/* #context-sep-navigation, */
/* #context-bookmarklink, */
/* #context-viewinfo, */
/* #context-viewpartialsource-selection, */
#inspect-separator,
/* #context-savelink, */
/* #context-sendimage, */
#context-setDesktopBackground

/* #context_reloadTab, */
/* #context_moveTabOptions, */
/* #context_bookmarkTab, */
/* .bookmarks-actions-menuseparator, */
/* .openintabs-menuitem { */
  {
  display: none !important;
}

menupopup:not(#BMB_bookmarksPopup) {
  padding: 6px 9px 9px !important;
  margin: -6px -9px 0 !important;
  border: 0 !important;
  background: 0 !important;
}

menu[open] menupopup:not(#BMB_bookmarksPopup) {
  margin: -12px -9px 0 !important;
}

#BMB_bookmarksPopup menu[open] menupopup {
  transform: translateY(4px) !important;
}

menupopup menuseparator {
  margin-top: 5px !important;
  margin-bottom: 5px !important;
  padding: 0px !important;
  border-bottom: none !important;
  opacity: 0.2 !important;
}

.menupopup-arrowscrollbox {
  background: Menu !important;
  /* fall back if adaptable colors are removed */
}

.menupopup-arrowscrollbox:not(.in-bookmarks-menu) {
  padding: 6px 0 !important;
}

.panel-arrowcontent {
  padding-top: 0px !important;
  border: none !important;
}

/* shadows and rounded corners for menus */
.menupopup-arrowscrollbox:not(.in-bookmarks-menu) {
  border-radius: var(--menu-corner-rounding) !important;
  box-shadow: 0px 2px 9px -3px black !important;
}

.panel-arrowcontainer .panel-arrowcontent,
.menupopup-arrowscrollbox,
hbox[flex="1"][part="innerbox"] {
  border-radius: var(--menu-corner-rounding) !important;
}

.in-bookmarks-menu {
  padding-bottom: 5px !important;
  padding-top: 5px !important;
}

menu,
menuitem,
menucaption {
  padding-left: 5px !important;
  padding-right: 5px !important;
}

menu:not(.subviewbutton)>.menu-right {
  margin-top: 2px !important;
  margin-right: 0px !important;
  width: 0px !important;
}

menu:not(.subviewbutton)>.menu-right image {
  margin-right: -5px !important;
  margin-top: -2px !important;
  border: 6px solid var(--toolbar-color) !important;
  border-top-color: transparent !important;
  border-right-color: transparent !important;
  border-bottom-color: transparent !important;
}

/* panelview toolbarbutton:not(#fxa-manage-account-button) {
  height: var(--menu-item-height) !important;
} */

#BMB_bookmarksPopup .menu-right {
  height: 23px !important;
}

#sidebar-switcher-bookmarks,
#customization-uidensity-menuitem-compact {
  margin-top: 5px !important;
}

#customization-lwtheme-menu-header {
  margin-top: 0px !important;
}

* {
  --tab-corner-rounding: 7px;
  --button-corner-rounding: 20px;
  --menu-corner-rounding: 10px;
  --menu-item-height: 25px;
  --animation-speed: 0.4s;
}

#main-window {
  background: transparent !important;
}

/* ------------------------------------ */
/* Firefox Translucent Tabbar for macOS */
/* ------------------------------------ */

:root#main-window {
  background-color: transparent !important;
}

:root:not(:-moz-window-inactive) #navigator-toolbox {
  background-color: transparent !important;
}

/* make tabs toolbar translucent */
/* FF 121 removed support for -moz-mac-source-list - using menupopup instead */
:root #TabsToolbar,
:root #titlebar,
:root #tabbrowser-tabs {
  -moz-default-appearance: menupopup !important;
  appearance: auto !important;
  background-color: transparent !important;
}

/* De-emphasize tab icons and names when window is unfocused */
:root:-moz-window-inactive .tab-content {
  opacity: 0.6;
}

/* recolor toolbar button hover/active bg colors to semi-transparent */
:root {
  --toolbarbutton-hover-background: color-mix(in srgb, currentColor 11%, transparent) !important;
  --toolbarbutton-active-background: color-mix(in srgb, currentColor 21%, transparent) !important;
}

/* improve border visiblity for selected tabs */
.tab-background:is([selected], [multiselected]):-moz-lwtheme {
  border: none !important;
}

#tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, .1), 0 1px 5px rgba(0, 0, 0, .1) !important;
}

:root:-moz-window-inactive #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
  box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, .05) !important;
}

@media (-moz-content-prefers-color-scheme: dark) {
  :root #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
    box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) hsla(280, 6%, 60%, 0.5) inset, 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, .6), 0 1px 5px rgba(0, 0, 0, .1) !important;
  }

  :root:-moz-window-inactive #tabbrowser-tabs:not([noshadowfortests]) .tab-background:is([selected], [multiselected]) {
    box-shadow: 0 0 0 var(--tabs-navbar-shadow-size) rgba(0, 0, 0, .4) !important;
  }
}

/* border between tab bar and navbar */
:root #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.1), 0 -4px 4px -5px hsla(280, 6%, 0%, 0.2);
}

@media (-moz-content-prefers-color-scheme: dark) {
  :root #nav-bar {
    box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.3), 0 -4px 4px -5px hsla(280, 6%, 0%, 0.05) !important;
  }
}

/* END Firefox Translucent Tabbar for macOS */

:root[lwthemetextcolor="bright"] #nav-bar {
  box-shadow: 0 -1px 0 0 hsla(280, 6%, 0%, 0.3), 0 -4px 4px -5px hsla(280, 6%, 0%, 0.05) !important;
}

#private-browsing-indicator-with-label label {
  display: none !important;
}
